module.exports=function(e){var t={};function r(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(o,a,function(t){return e[t]}.bind(null,a));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=9)}([function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=require("mongoose")},function(e,t){e.exports=require("express")},function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o,a,s={env:"production",port:process.env.PORT||3e3,jwtSecret:process.env.JWT_SECRET||"MERN_STACK",mongoUri:process.env.MONGODB_URI||process.env.MONGO_HOST||"mongodb://"+(process.env.IP||"localhost")+":"+(process.env.MONGO_PORT||"27017")+"/mern-social-media-app"},l=s;t.default=l,(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(o.register(s,"config","C:/Users/wails/Desktop/mern-social-media-app/config/config.js"),o.register(l,"default","C:/Users/wails/Desktop/mern-social-media-app/config/config.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)}).call(this,r(0)(e))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,a=d(r(7)),s=d(r(26)),l=d(r(27)),n=d(r(3));function d(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,u,f=function(e,t){a.default.findOne({email:e.body.email},function(r,o){if(r||!o)return t.status("401").json({error:"User not found"});if(!o.authenticate(e.body.password))return t.status("401").send({error:"Email and password don't match."});var a=s.default.sign({_id:o._id},n.default.jwtSecret);return t.cookie("t",a,{expire:new Date+9999}),t.json({token:a,user:{_id:o._id,name:o.name,email:o.email}})})},c=function(e,t){return t.clearCookie("t"),t.status("200").json({message:"signed out"})},p=(0,l.default)({secret:n.default.jwtSecret,userProperty:"auth"}),m=function(e,t,r){if(!(e.profile&&e.auth&&e.profile._id==e.auth._id))return t.status("403").json({error:"User is not authorized"});r()},g={signin:f,signout:c,requireSignin:p,hasAuthorization:m};t.default=g,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(f,"signin","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/auth.controller.js"),i.register(c,"signout","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/auth.controller.js"),i.register(p,"requireSignin","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/auth.controller.js"),i.register(m,"hasAuthorization","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/auth.controller.js"),i.register(g,"default","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/auth.controller.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)}).call(this,r(0)(e))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,a=l(r(3)),s=l(r(1));function l(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n={useNewUrlParser:!0,useUnifiedTopology:!0,useCreateIndex:!0,useFindAndModify:!1};s.default.Promise=global.Promise,s.default.connect(a.default.mongoUri,n);var d,i,u=s.default.connection,f=u;t.default=f,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(n,"properties","C:/Users/wails/Desktop/mern-social-media-app/server/connectDB.js"),d.register(u,"conn","C:/Users/wails/Desktop/mern-social-media-app/server/connectDB.js"),d.register(f,"default","C:/Users/wails/Desktop/mern-social-media-app/server/connectDB.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r(0)(e))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,a=f(r(7)),s=f(r(21)),l=f(r(8)),n=r(22),d=r(23),i=r(24),u=f(r(25));function f(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c,p,m=function(e,t){new a.default(e.body).save(function(e){if(e)return t.status(400).json({error:l.default.getErrorMessage(e)});t.status(200).json({message:"Successfully signed up!"})})},g=function(e,t,r,o){a.default.findById(o).populate("following","_id name").populate("followers","_id name").exec(function(o,a){if(o||!a)return t.status("400").json({error:"User not found"});e.profile=a,r()})},v=function(e,t){return e.profile.hashed_password=void 0,e.profile.salt=void 0,t.json(e.profile)},b=function(e,t){a.default.find(function(e,r){if(e)return t.status(400).json({error:l.default.getErrorMessage(e)});t.json(r)}).select("name email updated created")},y=function(e,t){var r=e.profile;(r=s.default.extend(r,e.body)).updated=Date.now(),r.save(function(e){if(e)return t.status(400).json({error:l.default.getErrorMessage(e)});r.hashed_password=void 0,r.salt=void 0,t.json(r)})},w=function(e,t){e.profile.remove(function(e,r){if(e)return t.status(400).json({error:l.default.getErrorMessage(e)});r.hashed_password=void 0,r.salt=void 0,t.json(r)})},j=function(e,t){var r=e.profile,o=new i.Readable;o.push(e.file.buffer),o.push(null);var a=n.gridFSBucketUser.openUploadStream(e.body.imageName);o.pipe(a),r.photoId=a.id,a.on("error",function(){return t.status(500).json({message:"Error uploading file"})}),a.on("finish",function(){r.save(function(e){return e?t.status(400).json({error:l.default.getErrorMessage(e)}):(r.hashed_password=void 0,r.salt=void 0,t.json(r))})})},h=function(e,t){return t.sendFile(process.cwd()+u.default)},G=function(e,t,r){if(e.profile.photoId){var o=e.profile,a=void 0;try{a=new d.ObjectID(o.photoId)}catch(e){return t.status(400).json({message:"Invalid postID"})}t.set("Content-Type","image/jpg"),t.set("Accept-Ranges","bytes");var s=n.gridFSBucketUser.openDownloadStream(a);s.on("data",function(e){t.write(e)}),s.on("error",function(){t.sendStatus(404)}),s.on("end",function(){t.end()})}else r()},H=function(e,t,r){a.default.findByIdAndUpdate(e.body.userId,{$push:{following:e.body.followId}},function(e,o){if(e)return t.status(400).json({error:l.default.getErrorMessage(e)});r()})},L=function(e,t){a.default.findByIdAndUpdate(e.body.followId,{$push:{followers:e.body.userId}},{new:!0}).populate("following","_id name").populate("followers","_id name").exec(function(e,r){if(e)return t.status(400).json({error:l.default.getErrorMessage(e)});r.hashed_password=void 0,r.salt=void 0,t.json(r)})},_=function(e,t,r){a.default.findByIdAndUpdate(e.body.userId,{$pull:{following:e.body.unfollowId}},function(e,o){if(e)return t.status(400).json({error:l.default.getErrorMessage(e)});r()})},U=function(e,t){a.default.findByIdAndUpdate(e.body.unfollowId,{$pull:{followers:e.body.userId}},{new:!0}).populate("following","_id name").populate("followers","_id name").exec(function(e,r){if(e)return t.status(400).json({error:l.default.getErrorMessage(e)});r.hashed_password=void 0,r.salt=void 0,t.json(r)})},M=function(e,t){var r=e.profile.following;r.push(e.profile._id),a.default.find({_id:{$nin:r}},function(e,r){if(e)return t.status(400).json({error:l.default.getErrorMessage(e)});t.json(r)}).select("name")},k={create:m,userByID:g,read:v,list:b,remove:w,update:y,createAvatarImage:j,getAvatarImage:G,defaultPhoto:h,addFollowing:H,addFollower:L,removeFollowing:_,removeFollower:U,findPeople:M};t.default=k,(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(m,"create","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(g,"userByID","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(v,"read","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(b,"list","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(y,"update","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(w,"remove","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(j,"createAvatarImage","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(h,"defaultPhoto","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(G,"getAvatarImage","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(H,"addFollowing","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(L,"addFollower","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(_,"removeFollowing","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(U,"removeFollower","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(M,"findPeople","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js"),c.register(k,"default","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/user.controller.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r(0)(e))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,a=l(r(1)),s=l(r(20));function l(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n=new a.default.Schema({name:{type:String,trim:!0,required:"Name is required"},about:{type:String,trim:!0},photoId:{type:String},following:[{type:a.default.Schema.ObjectId,ref:"User"}],followers:[{type:a.default.Schema.ObjectId,ref:"User"}],email:{type:String,trim:!0,unique:"Email already exists",match:[/.+\@.+\..+/,"Please fill a valid email address"],required:"Email is required"},hashed_password:{type:String,required:"Password is required"},salt:String,updated:Date,created:{type:Date,default:Date.now}});n.virtual("password").set(function(e){this._password=e,this.salt=this.makeSalt(),this.hashed_password=this.encryptPassword(e)}).get(function(){return this._password}),n.path("hashed_password").validate(function(e){this._password&&this._password.length<6&&this.invalidate("password","Password must be at least 6 characters."),this.isNew&&!this._password&&this.invalidate("password","Password is required")},null),n.methods={authenticate:function(e){return this.encryptPassword(e)===this.hashed_password},encryptPassword:function(e){if(!e)return"";try{return s.default.createHmac("sha1",this.salt).update(e).digest("hex")}catch(e){return""}},makeSalt:function(){return Math.round((new Date).valueOf()*Math.random())+""}};var d,i,u=a.default.model("User",n);t.default=u,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(n,"UserSchema","C:/Users/wails/Desktop/mern-social-media-app/server/models/user.model.js"),d.register(u,"default","C:/Users/wails/Desktop/mern-social-media-app/server/models/user.model.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r(0)(e))},function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o,a,s=function(e){var t="";if(e.code)switch(e.code){case 11e3:case 11001:t="Email already exist!";break;default:t="Something went wrong"}else for(var r in e.errors)e.errors[r].message&&(t=e.errors[r].message);return t},l={getErrorMessage:s};t.default=l,(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(o.register(s,"getErrorMessage","C:/Users/wails/Desktop/mern-social-media-app/server/helpers/dbErrorHandler.js"),o.register(l,"default","C:/Users/wails/Desktop/mern-social-media-app/server/helpers/dbErrorHandler.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)}).call(this,r(0)(e))},function(e,t,r){e.exports=r(10)},function(e,t,r){"use strict";var o=l(r(3)),a=l(r(5)),s=l(r(11));function l(e){return e&&e.__esModule?e:{default:e}}"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;a.default.on("error",function(){throw new Error("unable to connect to database: "+o.default.mongoUri)}),s.default.listen(o.default.port,function(e){e&&console.log(e),console.info("Server started on port %s.",o.default.port)})},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,a=g(r(2)),s=g(r(12)),l=g(r(13)),n=g(r(14)),d=g(r(15)),i=g(r(16)),u=g(r(17)),f=g(r(18)),c=g(r(28)),p=g(r(29)),m=g(r(32));function g(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var v=process.cwd(),b=(0,a.default)();b.use(l.default.json()),b.use(l.default.urlencoded({extended:!0})),b.use((0,n.default)()),b.use((0,d.default)()),b.use((0,u.default)()),b.use((0,i.default)()),b.use("/dist",a.default.static(s.default.join(v,"dist"))),b.use("/",f.default),b.use("/",c.default),b.use("/",p.default),b.get("/*",function(e,t){t.status(200).send((0,m.default)())}),b.use(function(e,t,r,o){"UnauthorizedError"===e.name&&r.status(401).json({error:e.name+": "+e.message})});var y,w,j=b;t.default=j,(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(v,"CURRENT_WORKING_DIR","C:/Users/wails/Desktop/mern-social-media-app/server/express.js"),y.register(b,"app","C:/Users/wails/Desktop/mern-social-media-app/server/express.js"),y.register(j,"default","C:/Users/wails/Desktop/mern-social-media-app/server/express.js")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)}).call(this,r(0)(e))},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("compression")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("helmet")},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,a=d(r(2)),s=d(r(19)),l=d(r(6)),n=d(r(4));function d(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i=a.default.Router(),u=(0,s.default)({storage:s.default.memoryStorage()});i.route("/api/users").get(l.default.list).post(l.default.create),i.route("/api/users/:userId").get(n.default.requireSignin,l.default.read).put(n.default.requireSignin,n.default.hasAuthorization,l.default.update).delete(n.default.requireSignin,n.default.hasAuthorization,l.default.remove),i.route("/api/image/:userId").post(u.single("imageData"),n.default.requireSignin,l.default.createAvatarImage),i.route("/api/image/avatar/:userId").get(l.default.getAvatarImage,l.default.defaultPhoto),i.route("/api/users/follow").post(n.default.requireSignin,l.default.addFollowing,l.default.addFollower),i.route("/api/users/unfollow").post(n.default.requireSignin,l.default.removeFollowing,l.default.removeFollower),i.route("/api/users/findpeople/:userId").get(n.default.requireSignin,l.default.findPeople),i.param("userId",l.default.userByID);var f,c,p=i;t.default=p,(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(i,"router","C:/Users/wails/Desktop/mern-social-media-app/server/routes/user.routes.js"),f.register(u,"upload","C:/Users/wails/Desktop/mern-social-media-app/server/routes/user.routes.js"),f.register(p,"default","C:/Users/wails/Desktop/mern-social-media-app/server/routes/user.routes.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)}).call(this,r(0)(e))},function(e,t){e.exports=require("multer")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("lodash")},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.gridFSBucketUser=void 0;var o,a=l(r(1)),s=l(r(5));function l(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,d,i=void 0;s.default.once("open",function(){t.gridFSBucketUser=i=new a.default.mongo.GridFSBucket(s.default.db,{bucketName:"users"})}),t.gridFSBucketUser=i,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(i,"gridFSBucketUser","C:/Users/wails/Desktop/mern-social-media-app/config/gridFSBucketUser.js"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(0)(e))},function(e,t){e.exports=require("mongodb")},function(e,t){e.exports=require("stream")},function(e,t,r){e.exports=r.p+"63d9243197be8471a7171a29722f2be9.jpg"},function(e,t){e.exports=require("jsonwebtoken")},function(e,t){e.exports=require("express-jwt")},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,a=l(r(2)),s=l(r(4));function l(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n=a.default.Router();n.route("/auth/signin").post(s.default.signin),n.route("/auth/signout").get(s.default.signout);var d,i,u=n;t.default=u,(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(n,"router","C:/Users/wails/Desktop/mern-social-media-app/server/routes/auth.routes.js"),d.register(u,"default","C:/Users/wails/Desktop/mern-social-media-app/server/routes/auth.routes.js")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r(0)(e))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,a=d(r(2)),s=d(r(4)),l=d(r(6)),n=d(r(30));function d(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i=a.default.Router();i.route("/api/posts/new/:userId").post(s.default.requireSignin,n.default.create),i.route("/api/posts/feed/:userId").get(s.default.requireSignin,n.default.listNewsFeed),i.route("/api/posts/by/:userId").get(s.default.requireSignin,n.default.listByUser),i.route("/api/posts/like").put(s.default.requireSignin,n.default.like),i.route("/api/posts/unlike").put(s.default.requireSignin,n.default.unlike),i.route("/api/posts/:postId").delete(s.default.requireSignin,n.default.isPoster,n.default.remove),i.route("/api/posts/comment").put(s.default.requireSignin,n.default.comment),i.route("/api/posts/uncomment").put(s.default.requireSignin,n.default.uncomment),i.param("userId",l.default.userByID),i.param("postId",n.default.postByID);var u,f,c=i;t.default=c,(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register(i,"router","C:/Users/wails/Desktop/mern-social-media-app/server/routes/post.routes.js"),u.register(c,"default","C:/Users/wails/Desktop/mern-social-media-app/server/routes/post.routes.js")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)}).call(this,r(0)(e))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,a=l(r(31)),s=l(r(8));function l(e){return e&&e.__esModule?e:{default:e}}(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,d,i=function(e,t){console.log("text: ",e.body.text);var r=new a.default({text:e.body.text});r.postedBy=e.profile,r.save(function(e,r){return e?t.status(400).json({error:s.default.getErrorMessage(e)}):t.json(r)})},u=function(e,t){e.profile.following.push(e.profile._id),a.default.find({postedBy:{$in:e.profile.following}}).populate("comments.postedBy","_id name").populate("postedBy","_id name").sort("-created").exec(function(e,r){if(e)return t.status(400).json({error:s.default.getErrorMessage(e)});t.json(r)})},f=function(e,t,r,o){a.default.findById(o).populate("postedBy","_id name").exec(function(o,a){if(o||!a)return t.status("400").json({error:"Post not found"});e.post=a,r()})},c=function(e,t){a.default.find({postedBy:e.profile._id}).populate("comments.postedBy","_id name").populate("postedBy","_id name").sort("-created").exec(function(e,r){if(e)return t.status("400").json({error:s.default.getErrorMessage(e)});t.json(r)})},p=function(e,t){a.default.findByIdAndUpdate(e.body.postId,{$push:{likes:e.body.userId}},{new:!0}).exec(function(e,r){if(e)return t.status(400).json({error:s.default.getErrorMessage(e)});t.json(r)})},m=function(e,t){a.default.findByIdAndUpdate(e.body.postId,{$pull:{likes:e.body.userId}},{new:!0}).exec(function(e,r){if(e)return t.status(400).json({error:s.default.getErrorMessage(e)});t.json(r)})},g=function(e,t){var r=e.body.comment;r.postedBy=e.body.userId,a.default.findByIdAndUpdate(e.body.postId,{$push:{comments:r}},{new:!0,upsert:!0}).populate("postedBy","_id name").populate("comments.postedBy","_id name").exec(function(e,r){if(e)return t.status(400).json({error:s.default.getErrorMessage(e)});t.json(r)})},v=function(e,t){var r=e.body.comment;a.default.findByIdAndUpdate(e.body.postId,{$pull:{comments:{_id:r._id}}},{new:!0}).populate("postedBy","_id name").populate("comments.postedBy","_id name").exec(function(e,r){if(e)return t.status(400).json({error:s.default.getErrorMessage(e)});t.json(r)})},b=function(e,t){e.post.remove(function(e,r){if(e)return t.status(400).json({error:s.default.getErrorMessage(e)});t.json(r)})},y=function(e,t,r){var o=e.post&&e.auth&&e.post.postedBy._id==e.auth._id;if(!o)return t.status("403").json({error:"User is not authorized"});r()},w={create:i,listNewsFeed:u,postByID:f,listByUser:c,like:p,unlike:m,comment:g,uncomment:v,remove:b,isPoster:y};t.default=w,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(i,"create","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/post.controller.js"),n.register(u,"listNewsFeed","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/post.controller.js"),n.register(f,"postByID","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/post.controller.js"),n.register(c,"listByUser","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/post.controller.js"),n.register(p,"like","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/post.controller.js"),n.register(m,"unlike","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/post.controller.js"),n.register(g,"comment","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/post.controller.js"),n.register(v,"uncomment","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/post.controller.js"),n.register(b,"remove","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/post.controller.js"),n.register(y,"isPoster","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/post.controller.js"),n.register(w,"default","C:/Users/wails/Desktop/mern-social-media-app/server/controllers/post.controller.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(0)(e))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o,a,s=r(1),l=(o=s)&&o.__esModule?o:{default:o};(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,d,i=new l.default.Schema({text:{type:String,required:"Name is required"},likes:[{type:l.default.Schema.ObjectId,ref:"User"}],comments:[{text:String,created:{type:Date,default:Date.now},postedBy:{type:l.default.Schema.ObjectId,ref:"User"}}],postedBy:{type:l.default.Schema.ObjectId,ref:"User"},created:{type:Date,default:Date.now}}),u=l.default.model("Post",i);t.default=u,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(i,"PostSchema","C:/Users/wails/Desktop/mern-social-media-app/server/models/post.model.js"),n.register(u,"default","C:/Users/wails/Desktop/mern-social-media-app/server/models/post.model.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(0)(e))},function(e,t,r){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o,a,s=function(){return'\n        <!doctype html>\n        <html lang="en">\n\n            <head>\n                <meta charset="utf-8">\n                <title>MERN Social Media</title>\n                <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />\n                <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />\n            </head>\n\n            <body>\n                <div id="root"></div>\n                <script type="text/javascript" src="/dist/bundle.js"><\/script>\n            </body>\n\n        </html>'};t.default=s,(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(s,"default","C:/Users/wails/Desktop/mern-social-media-app/template.js"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)}).call(this,r(0)(e))}]);